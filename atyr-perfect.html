<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ATYR Fashion Mix & Match</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="ATYR">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ATYR">
    <meta name="description" content="Mix and match fashion items with AI recommendations">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#9CAF88">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent;
        }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            background: #fafafa; 
            min-height: 100vh; 
            color: #333;
            overflow-x: hidden;
            position: relative;
            touch-action: manipulation;
        }
        
        /* Landing Screen */
        .landing-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #9CAF88 0%, #8BA077 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .landing-screen.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }
        
        .logo-container {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .logo-text {
            font-size: 4rem;
            font-weight: 300;
            color: white;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(30px);
            animation: logoSlideIn 1s ease-out 0.5s forwards;
        }
        
        .logo-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 300;
            opacity: 0;
            transform: translateY(20px);
            animation: logoSlideIn 1s ease-out 1s forwards;
        }
        
        .loading-dots {
            display: flex;
            gap: 8px;
            margin-top: 2rem;
            opacity: 0;
            animation: logoSlideIn 1s ease-out 1.5s forwards;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: dotPulse 1.5s ease-in-out infinite;
        }
        
        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes logoSlideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes dotPulse {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }
        
        /* Main App */
        .main-app {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .main-app.show {
            display: block;
            opacity: 1;
        }
        
        .container { 
            max-width: 100%; 
            margin: 0 auto; 
            padding: 20px;
            position: relative;
            z-index: 2;
        }
        
        .header { 
            text-align: center; 
            margin-bottom: 2rem; 
        }
        .welcome-message {
            background: white;
            border-radius: 16px;
            padding: 1.5rem 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid #9CAF88;
        }
        .welcome-text {
            font-size: 1rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        .welcome-name {
            font-size: 1.6rem;
            font-weight: 600;
            color: #333;
        }
        .title { 
            font-size: 2.5rem; 
            font-weight: 300; 
            margin-bottom: 0.5rem; 
            color: #1a1a1a;
            letter-spacing: -0.02em;
        }
        .subtitle { 
            font-size: 1rem; 
            color: #666; 
            font-weight: 400;
        }
        
        /* Navigation */
        .nav-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        .nav-btn {
            background: #9CAF88;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            min-width: 120px;
            justify-content: center;
        }
        .nav-btn:hover {
            background: #8BA077;
            transform: translateY(-2px);
        }
        
        /* Stats Bar */
        .stats-bar {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            display: flex;
            justify-content: space-around;
            text-align: center;
        }
        .stat-item {
            flex: 1;
        }
        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #9CAF88;
            display: block;
        }
        .stat-label {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* AI Search Bar */
        .ai-search-container {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid #9CAF88;
        }
        .ai-search-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
            text-align: center;
        }
        .ai-search-bar {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-direction: column;
        }
        .ai-search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .ai-search-input:focus {
            outline: none;
            border-color: #9CAF88;
            box-shadow: 0 0 0 3px rgba(156,175,136,0.1);
        }
        .ai-search-btn {
            background: #9CAF88;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            width: 100%;
            justify-content: center;
        }
        .ai-search-btn:hover {
            background: #8BA077;
            transform: translateY(-2px);
        }
        .ai-search-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        /* AI Recommendation Display - Enhanced */
        .ai-recommendation {
            background: linear-gradient(135deg, #9CAF88, #8BA077);
            color: white;
            padding: 1.5rem;
            border-radius: 16px;
            margin: 1rem 0;
            display: none;
            box-shadow: 0 8px 32px rgba(156,175,136,0.3);
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .ai-recommendation::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            z-index: 1;
        }
        
        .ai-recommendation.show {
            display: block;
            animation: slideInDown 0.5s ease-out;
        }
        
        .ai-recommendation-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }
        
        .ai-recommendation h4 {
            margin: 0;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .ai-recommendation-icon {
            font-size: 1.5rem;
            animation: pulse 2s infinite;
        }
        
        .ai-recommendation-content {
            position: relative;
            z-index: 2;
        }
        
        .ai-recommendation p {
            font-size: 1rem;
            opacity: 0.95;
            line-height: 1.5;
            margin: 0;
        }
        
        .ai-recommendation-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            z-index: 3;
        }
        
        .ai-recommendation-close:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }
        
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        .outfit-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
            margin: 2rem 0;
            position: relative;
        }
        
        /* Unified Carousel Design */
        .unified-carousel {
            background: white;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(0,0,0,0.08);
            overflow: hidden;
            max-width: 400px;
            width: 100%;
            position: relative;
        }
        
        .carousel-section {
            position: relative;
        }
        
        .carousel-wrapper {
            position: relative;
            width: 100%;
            overflow: hidden;
        }
        
        .carousel {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }
        
        .carousel-item {
            flex: 0 0 100%;
            height: 300px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .carousel-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }
        
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
            transition: transform 0.3s ease;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .carousel-item:hover img {
            transform: scale(1.05);
        }
        
        .carousel-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.1), rgba(0,0,0,0.3));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }
        
        .carousel-item:hover::before {
            opacity: 1;
        }
        
        .carousel-item:hover .item-details {
            opacity: 1;
            transform: translateY(0);
        }
        
        .item-details {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            padding: 1.5rem;
            transform: translateY(100%);
            transition: all 0.3s ease;
            opacity: 0;
            z-index: 2;
        }
        
        .item-name {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.25rem;
        }
        
        .item-brand {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .item-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #9CAF88;
        }
        
        .nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #333;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .nav-button:hover {
            background: #9CAF88;
            color: white;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(156,175,136,0.3);
        }
        
        .nav-button.prev {
            left: -20px;
        }
        
        .nav-button.next {
            right: -20px;
        }
        
        .nav-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .action-btn {
            background: white;
            border: 2px solid #9CAF88;
            color: #9CAF88;
            padding: 12px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .action-btn:hover {
            background: #9CAF88;
            color: white;
            transform: scale(1.1);
        }
        
        .buy-button {
            background: #9CAF88;
            color: white;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            margin: 2rem auto;
            display: block;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: 0 8px 24px rgba(156,175,136,0.3);
            width: 100%;
            max-width: 300px;
        }
        
        .buy-button:hover {
            background: #8BA077;
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(156,175,136,0.4);
        }
        
        .buy-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .total-price {
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin: 1rem 0;
            background: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            border-left: 4px solid #9CAF88;
        }
        
        /* AI Speech Bubble */
        .ai-speech-bubble {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #9CAF88, #8BA077);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 20px;
            max-width: 300px;
            box-shadow: 0 8px 32px rgba(156,175,136,0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 1000;
        }
        
        .ai-speech-bubble.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .ai-speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 30px;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #8BA077;
        }
        
        .ai-speech-text {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .ai-speech-close {
            position: absolute;
            top: 5px;
            right: 8px;
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0.7;
        }
        
        .ai-speech-close:hover {
            opacity: 1;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(20px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal {
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            overflow: hidden;
            max-width: 100%;
            width: 100%;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        
        .modal-image {
            flex: 1;
            min-height: 250px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.05);
        }
        
        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
        }
        
        .modal-content {
            flex: 1;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            color: white;
        }
        
        .modal-brand {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
        }
        
        .modal-name {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .modal-price {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: #9CAF88;
        }
        
        .modal-description {
            font-size: 1rem;
            color: rgba(255,255,255,0.8);
            line-height: 1.6;
            margin-bottom: 2rem;
        }
        
        .sizes-container {
            margin-bottom: 2rem;
        }
        
        .sizes-title {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: #fff;
        }
        
        .sizes {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .size-option {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }
        
        .size-option:hover {
            border-color: #9CAF88;
            background: rgba(156,175,136,0.2);
        }
        
        .size-option.selected {
            border-color: #9CAF88;
            background: #9CAF88;
            color: #000;
        }
        
        .modal-actions {
            display: flex;
            gap: 1rem;
            flex-direction: column;
        }
        
        .modal-button {
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .modal-button.primary {
            background: #9CAF88;
            color: #000;
        }
        
        .modal-button.primary:hover {
            background: #8BA077;
            transform: translateY(-2px);
        }
        
        .modal-button.secondary {
            background: transparent;
            color: #fff;
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        .modal-button.secondary:hover {
            border-color: #9CAF88;
            background: rgba(156,175,136,0.1);
        }
        
        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 1001;
        }
        
        .close-button:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }
        
        /* Mobile Specific Styles */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .title {
                font-size: 2rem;
            }
            
            .welcome-message {
                padding: 1rem 1.5rem;
            }
            
            .welcome-name {
                font-size: 1.4rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 100%;
                max-width: 250px;
            }
            
            .ai-search-bar {
                flex-direction: column;
            }
            
            .ai-search-btn {
                width: 100%;
            }
            
            .unified-carousel {
                max-width: 100%;
            }
            
            .carousel-item {
                height: 280px;
            }
            
            .nav-button {
                width: 36px;
                height: 36px;
                font-size: 1.1rem;
            }
            
            .nav-button.prev {
                left: -18px;
            }
            
            .nav-button.next {
                right: -18px;
            }
            
            .action-buttons {
                position: static;
                flex-direction: row;
                justify-content: center;
                margin: 1rem 0;
            }
            
            .action-btn {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
            
            .ai-speech-bubble {
                bottom: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
            
            .modal {
                margin: 10px;
                max-height: 95vh;
            }
            
            .modal-content {
                padding: 1rem;
            }
            
            .modal-name {
                font-size: 1.5rem;
            }
            
            .modal-price {
                font-size: 1.8rem;
            }
            
            .modal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Landing Screen -->
    <div class="landing-screen" id="landingScreen">
        <div class="logo-container">
            <div class="logo-text">ATYR</div>
            <div class="logo-subtitle">Fashion Mix & Match</div>
            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div class="main-app" id="mainApp">
        <div class="container">
            <div class="header">
                <div class="welcome-message">
                    <div class="welcome-text">Welcome back,</div>
                    <div class="welcome-name" id="userName">Gourav</div>
                </div>
                <h1 class="title">ATYR</h1>
                <p class="subtitle">Mix & Match</p>
            </div>

            <!-- Navigation -->
            <div class="nav-buttons">
                <button class="nav-btn" id="startQuizBtn">
                    <span></span>
                    <span>Style Quiz</span>
                </button>
                <button class="nav-btn" id="viewMoodBoardBtn">
                    <span></span>
                    <span>Mood Board</span>
                </button>
            </div>

            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-number" id="combosCreated">0</span>
                    <span class="stat-label">Combos Created</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="itemsViewed">0</span>
                    <span class="stat-label">Items Viewed</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="timeSpent">0m</span>
                    <span class="stat-label">Time Spent</span>
                </div>
            </div>

            <!-- AI Search Bar -->
            <div class="ai-search-container">
                <div class="ai-search-title"> AI Style Assistant</div>
                <div class="ai-search-bar">
                    <input type="text" class="ai-search-input" id="aiSearchInput" placeholder="Tell me where you're heading... (e.g., office meeting, weekend party, date night, gym workout)">
                    <button class="ai-search-btn" id="aiSearchBtn">
                        <span></span>
                        <span>Get AI Recommendation</span>
                    </button>
                </div>
            </div>

            <!-- Enhanced AI Recommendation Display -->
            <div class="ai-recommendation" id="aiRecommendation">
                <button class="ai-recommendation-close" id="closeAiRecommendation"></button>
                <div class="ai-recommendation-header">
                    <div class="ai-recommendation-icon"></div>
                    <h4>AI Recommendation</h4>
                </div>
                <div class="ai-recommendation-content">
                    <p id="aiRecommendationText"></p>
                </div>
            </div>

            <div class="outfit-container">
                <div class="unified-carousel">
                    <!-- Top Carousel -->
                    <div class="carousel-section">
                        <button class="nav-button prev" id="topPrev"></button>
                        <div class="carousel-wrapper">
                            <div class="carousel" id="topsCarousel">
                                <div class="carousel-item" data-name="Classic White Tee" data-brand="ATYR" data-price="29.99" data-description="Essential white cotton t-shirt with a relaxed fit. Perfect for layering or wearing alone. Made from 100% organic cotton for ultimate comfort." data-sizes="XS,S,M,L,XL" data-occasion="casual,everyday,weekend,summer">
                                    <img src="backend/uploads/Adobe Express - file (1).png" alt="Classic White Tee">
                                    <div class="item-details">
                                        <div class="item-name">Classic White Tee</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$29.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Elegant Striped Blouse" data-brand="ATYR" data-price="45.99" data-description="Sophisticated striped blouse with a modern silhouette. Features premium cotton blend fabric and delicate button details. Perfect for smart casual occasions." data-sizes="XS,S,M,L,XL" data-occasion="smart-casual,office,brunch,date">
                                    <img src="backend/uploads/Remove background project (10).png" alt="Elegant Striped Blouse">
                                    <div class="item-details">
                                        <div class="item-name">Elegant Striped Blouse</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$45.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Professional Button-Up" data-brand="ATYR" data-price="39.99" data-description="Crisp button-up shirt that transitions seamlessly from office to evening. Features a tailored fit and wrinkle-resistant fabric. Essential for any professional wardrobe." data-sizes="XS,S,M,L,XL" data-occasion="office,professional,meeting,formal">
                                    <img src="backend/uploads/Remove background project (11).png" alt="Professional Button-Up">
                                    <div class="item-details">
                                        <div class="item-name">Professional Button-Up</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$39.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Luxury Silk Blouse" data-brand="ATYR" data-price="55.99" data-description="Exquisite silk blouse with intricate details and a flattering cut. Perfect for special occasions, client meetings, or elegant dinners. Features premium silk fabric." data-sizes="XS,S,M,L,XL" data-occasion="formal,office,special-occasion,evening">
                                    <img src="backend/uploads/Remove background project (12).png" alt="Luxury Silk Blouse">
                                    <div class="item-details">
                                        <div class="item-name">Luxury Silk Blouse</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$55.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Athletic Tank Top" data-brand="ATYR" data-price="24.99" data-description="Performance tank top designed for active lifestyles. Features moisture-wicking fabric and a comfortable fit. Perfect for gym sessions, yoga, or casual summer days." data-sizes="XS,S,M,L,XL" data-occasion="gym,workout,summer,casual,athletic">
                                    <img src="backend/uploads/Remove background project (3).png" alt="Athletic Tank Top">
                                    <div class="item-details">
                                        <div class="item-name">Athletic Tank Top</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$24.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Modern Oxford Shirt" data-brand="ATYR" data-price="49.99" data-description="Contemporary oxford shirt with a modern twist. Features a relaxed fit and premium cotton fabric. Versatile piece that works for office, dates, or casual outings." data-sizes="XS,S,M,L,XL" data-occasion="office,smart-casual,date,weekend">
                                    <img src="backend/uploads/Remove background project (5).png" alt="Modern Oxford Shirt">
                                    <div class="item-details">
                                        <div class="item-name">Modern Oxford Shirt</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$49.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Trendy Party Top" data-brand="ATYR" data-price="34.99" data-description="Fashion-forward top with contemporary styling and eye-catching details. Perfect for nights out, parties, or when you want to make a statement. Features trendy cut and premium materials." data-sizes="XS,S,M,L,XL" data-occasion="party,night-out,trendy,evening,celebration">
                                    <img src="backend/uploads/Remove background project (7).png" alt="Trendy Party Top">
                                    <div class="item-details">
                                        <div class="item-name">Trendy Party Top</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$34.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Designer Fashion Top" data-brand="ATYR" data-price="42.99" data-description="Stylish designer-inspired top with unique details and contemporary design. Perfect for fashion-forward individuals who want to stand out. Features premium construction and modern styling." data-sizes="XS,S,M,L,XL" data-occasion="fashion,trendy,date,evening,special">
                                    <img src="backend/uploads/Remove background project.png" alt="Designer Fashion Top">
                                    <div class="item-details">
                                        <div class="item-name">Designer Fashion Top</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$42.99</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="nav-button next" id="topNext"></button>
                    </div>

                    <!-- Bottom Carousel -->
                    <div class="carousel-section">
                        <button class="nav-button prev" id="bottomPrev"></button>
                        <div class="carousel-wrapper">
                            <div class="carousel" id="bottomsCarousel">
                                <div class="carousel-item" data-name="Classic Denim Jeans" data-brand="ATYR" data-price="79.99" data-description="Timeless denim jeans with a perfect fit and premium stretch. Made from high-quality denim with a comfortable waistband. Perfect for casual outings, weekends, or relaxed office days." data-sizes="28,30,32,34,36" data-occasion="casual,everyday,weekend,relaxed">
                                    <img src="backend/uploads/Remove background project (1).png" alt="Classic Denim Jeans">
                                    <div class="item-details">
                                        <div class="item-name">Classic Denim Jeans</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$79.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Business Chinos" data-brand="ATYR" data-price="65.99" data-description="Professional chinos that bridge the gap between casual and formal. Features a tailored fit and wrinkle-resistant fabric. Perfect for business casual settings, client meetings, or smart casual occasions." data-sizes="28,30,32,34,36" data-occasion="office,professional,business-casual,meeting">
                                    <img src="backend/uploads/Remove background project (13).png" alt="Business Chinos">
                                    <div class="item-details">
                                        <div class="item-name">Business Chinos</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$65.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Formal Trousers" data-brand="ATYR" data-price="59.99" data-description="Elegant trousers with a sophisticated tailored fit. Made from premium wool blend fabric. Perfect for formal office settings, important meetings, or professional events." data-sizes="28,30,32,34,36" data-occasion="formal,office,professional,meeting,corporate">
                                    <img src="backend/uploads/Remove background project (14).png" alt="Formal Trousers">
                                    <div class="item-details">
                                        <div class="item-name">Formal Trousers</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$59.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Premium Dress Pants" data-brand="ATYR" data-price="89.99" data-description="High-end dress pants with exceptional quality and sophisticated styling. Features premium materials and perfect tailoring. Ideal for executive meetings, formal events, or when you need to make a strong impression." data-sizes="28,30,32,34,36" data-occasion="formal,executive,special-occasion,premium">
                                    <img src="backend/uploads/Remove background project (2).png" alt="Premium Dress Pants">
                                    <div class="item-details">
                                        <div class="item-name">Premium Dress Pants</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$89.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Athletic Shorts" data-brand="ATYR" data-price="39.99" data-description="Performance shorts designed for active lifestyles. Features moisture-wicking fabric, comfortable fit, and functional pockets. Perfect for gym workouts, running, or casual summer activities." data-sizes="28,30,32,34,36" data-occasion="gym,workout,summer,athletic,casual">
                                    <img src="backend/uploads/Remove background project (4).png" alt="Athletic Shorts">
                                    <div class="item-details">
                                        <div class="item-name">Athletic Shorts</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$39.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Elegant A-Line Skirt" data-brand="ATYR" data-price="49.99" data-description="Flattering A-line skirt with a sophisticated silhouette. Perfect for office settings, dates, or special occasions. Features premium fabric and a comfortable fit that flatters all body types." data-sizes="XS,S,M,L,XL" data-occasion="office,professional,date,special-occasion,elegant">
                                    <img src="backend/uploads/Remove background project (6).png" alt="Elegant A-Line Skirt">
                                    <div class="item-details">
                                        <div class="item-name">Elegant A-Line Skirt</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$49.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Trendy Cargo Pants" data-brand="ATYR" data-price="69.99" data-description="Modern cargo pants with contemporary styling and functional details. Perfect for casual outings, weekend adventures, or when you want a trendy yet comfortable look." data-sizes="28,30,32,34,36" data-occasion="casual,trendy,weekend,adventure,street">
                                    <img src="backend/uploads/Remove background project (8).png" alt="Trendy Cargo Pants">
                                    <div class="item-details">
                                        <div class="item-name">Trendy Cargo Pants</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$69.99</div>
                                    </div>
                                </div>
                                <div class="carousel-item" data-name="Fashion Statement Bottoms" data-brand="ATYR" data-price="54.99" data-description="Stylish bottoms that make a fashion statement. Features unique design elements and premium materials. Perfect for parties, dates, or when you want to showcase your personal style." data-sizes="28,30,32,34,36" data-occasion="party,trendy,date,evening,fashion">
                                    <img src="backend/uploads/Remove background project (9).png" alt="Fashion Statement Bottoms">
                                    <div class="item-details">
                                        <div class="item-name">Fashion Statement Bottoms</div>
                                        <div class="item-brand">ATYR</div>
                                        <div class="item-price">$54.99</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="nav-button next" id="bottomNext"></button>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn" id="randomCombo" title="Random Combo"></button>
                    <button class="action-btn" id="saveCombo" title="Save Combo"></button>
                    <button class="action-btn" id="shareCombo" title="Share Combo"></button>
                </div>
            </div>

            <div class="total-price" id="totalPrice" style="display: none;"></div>
            <button class="buy-button" id="buyButton" disabled>Buy Together</button>
        </div>

        <!-- AI Speech Bubble -->
        <div class="ai-speech-bubble" id="aiSpeechBubble">
            <button class="ai-speech-close" id="closeSpeechBubble"></button>
            <div class="ai-speech-text" id="aiSpeechText"></div>
        </div>

        <!-- Modal -->
        <div class="modal-overlay" id="modalOverlay">
            <div class="modal">
                <button class="close-button" id="closeModal"></button>
                <div class="modal-image">
                    <img id="modalImage" src="" alt="">
                </div>
                <div class="modal-content">
                    <div class="modal-brand" id="modalBrand"></div>
                    <div class="modal-name" id="modalName"></div>
                    <div class="modal-price" id="modalPrice"></div>
                    <div class="modal-description" id="modalDescription"></div>
                    <div class="sizes-container">
                        <div class="sizes-title">Size</div>
                        <div class="sizes" id="modalSizes"></div>
                    </div>
                    <div class="modal-actions">
                        <button class="modal-button primary" id="addToCart">Add to Cart</button>
                        <button class="modal-button secondary" id="buyNow">Buy Now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quiz Modal - Fixed to stay open -->
    <div class="modal-overlay" id="quizModal">
        <div class="modal" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">
            <div class="modal-content" style="padding: 2rem;">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #9CAF88; font-size: 2rem;">Style Quiz</h2>
                
                <!-- Quiz Step 1: Name -->
                <div class="quiz-step active" id="quizStep1">
                    <h3 style="margin-bottom: 1rem; color: white;">What's your name?</h3>
                    <input type="text" id="quizName" placeholder="Enter your name" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #9CAF88; background: rgba(255,255,255,0.1); color: white; margin-bottom: 1rem;">
                    <button onclick="nextQuizStep()" style="background: #9CAF88; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Next</button>
                </div>
                
                <!-- Quiz Step 2: Gender -->
                <div class="quiz-step" id="quizStep2" style="display: none;">
                    <h3 style="margin-bottom: 1rem; color: white;">How do you identify?</h3>
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap;">
                        <button onclick="selectGender('male')" class="gender-btn" style="flex: 1; padding: 1rem; border: 2px solid #9CAF88; background: rgba(255,255,255,0.1); color: white; border-radius: 8px; cursor: pointer;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                            <div>Male</div>
                        </button>
                        <button onclick="selectGender('female')" class="gender-btn" style="flex: 1; padding: 1rem; border: 2px solid #9CAF88; background: rgba(255,255,255,0.1); color: white; border-radius: 8px; cursor: pointer;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                            <div>Female</div>
                        </button>
                        <button onclick="selectGender('other')" class="gender-btn" style="flex: 1; padding: 1rem; border: 2px solid #9CAF88; background: rgba(255,255,255,0.1); color: white; border-radius: 8px; cursor: pointer;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                            <div>Other</div>
                        </button>
                    </div>
                    <button onclick="nextQuizStep()" id="quizNext2" disabled style="background: #ccc; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: not-allowed;">Next</button>
                </div>
                
                <!-- Quiz Step 3: Style Selection -->
                <div class="quiz-step" id="quizStep3" style="display: none;">
                    <h3 style="margin-bottom: 1rem; color: white;">Select your style vibes (5-10 images)</h3>
                    <div id="styleGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                        <!-- Style images will be loaded here -->
                    </div>
                    <button onclick="nextQuizStep()" id="quizNext3" disabled style="background: #ccc; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: not-allowed;">Next</button>
                </div>
                
                <!-- Quiz Step 4: Results -->
                <div class="quiz-step" id="quizStep4" style="display: none;">
                    <h3 style="margin-bottom: 1rem; color: white;">Welcome to ATYR, <span id="quizResultName"></span>!</h3>
                    <p style="color: rgba(255,255,255,0.8); margin-bottom: 2rem;">Your style profile has been created! Let's start mixing and matching.</p>
                    <button onclick="completeQuiz()" style="background: #9CAF88; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer;">Start Mixing & Matching</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
    <script>
        // App State
        let currentQuizStep = 1;
        let quizData = {
            name: '',
            gender: '',
            selectedStyles: []
        };

        // Stats tracking
        let stats = {
            combosCreated: 0,
            itemsViewed: 0,
            timeSpent: 0
        };

        // AI Speech Bubble prompts
        const aiPrompts = [
            "Ooh la la! This combo would be perfect for a party! ",
            "Wow, you'd look amazing in this! ",
            "This screams girlboss energy! ",
            "Perfect for Toronto weather! ",
            "This combo is giving main character energy! ",
            "So chic and sophisticated! ",
            "This would turn heads at any event! ",
            "Absolutely stunning combination! ",
            "This screams confidence! ",
            "Perfect for a coffee date! "
        ];

        // Style images for quiz
        const styleImages = [
            { url: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=200&h=200&fit=crop', style: 'minimalist' },
            { url: 'https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=200&h=200&fit=crop', style: 'bohemian' },
            { url: 'https://images.unsplash.com/photo-1445205170230-053b83016050?w=200&h=200&fit=crop', style: 'streetwear' },
            { url: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=200&h=200&fit=crop', style: 'classic' },
            { url: 'https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=200&h=200&fit=crop', style: 'vintage' },
            { url: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=200&h=200&fit=crop', style: 'modern' },
            { url: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=200&h=200&fit=crop', style: 'edgy' },
            { url: 'https://images.unsplash.com/photo-1445205170230-053b83016050?w=200&h=200&fit=crop', style: 'romantic' },
            { url: 'https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=200&h=200&fit=crop', style: 'athletic' },
            { url: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=200&h=200&fit=crop', style: 'preppy' },
            { url: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=200&h=200&fit=crop', style: 'artistic' },
            { url: 'https://images.unsplash.com/photo-1445205170230-053b83016050?w=200&h=200&fit=crop', style: 'casual' },
            { url: 'https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=200&h=200&fit=crop', style: 'elegant' },
            { url: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=200&h=200&fit=crop', style: 'trendy' },
            { url: 'https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=200&h=200&fit=crop', style: 'sophisticated' },
            { url: 'https://images.unsplash.com/photo-1445205170230-053b83016050?w=200&h=200&fit=crop', style: 'playful' }
        ];

        class Carousel {
            constructor(containerId) {
                this.container = document.getElementById(containerId);
                this.currentIndex = 0;
                this.items = this.container.querySelectorAll('.carousel-item');
                this.totalItems = this.items.length;
                
                this.init();
            }

            init() {
                this.updateCarousel();
                this.addClickListeners();
                this.addTouchListeners();
            }

            addClickListeners() {
                this.items.forEach(item => {
                    item.addEventListener('click', () => this.openModal(item));
                });
            }

            addTouchListeners() {
                let startX = 0;
                let startY = 0;

                this.container.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                }, { passive: true });

                this.container.addEventListener('touchend', (e) => {
                    if (!startX || !startY) return;

                    const endX = e.changedTouches[0].clientX;
                    const endY = e.changedTouches[0].clientY;
                    const diffX = startX - endX;
                    const diffY = startY - endY;

                    if (Math.abs(diffX) > Math.abs(diffY)) {
                        if (Math.abs(diffX) > 50) {
                            if (diffX > 0) {
                                this.next();
                            } else {
                                this.prev();
                            }
                        }
                    }

                    startX = 0;
                    startY = 0;
                }, { passive: true });
            }

            openModal(item) {
                stats.itemsViewed++;
                updateStats();
                showRandomAIPrompt();
                
                const modal = document.getElementById('modalOverlay');
                const modalImage = document.getElementById('modalImage');
                const modalBrand = document.getElementById('modalBrand');
                const modalName = document.getElementById('modalName');
                const modalPrice = document.getElementById('modalPrice');
                const modalDescription = document.getElementById('modalDescription');
                const modalSizes = document.getElementById('modalSizes');

                const img = item.querySelector('img');
                modalImage.src = img.src;
                modalImage.alt = img.alt;
                modalBrand.textContent = item.dataset.brand;
                modalName.textContent = item.dataset.name;
                modalPrice.textContent = '$' + item.dataset.price;
                modalDescription.textContent = item.dataset.description;

                modalSizes.innerHTML = '';
                const sizes = item.dataset.sizes.split(',');
                sizes.forEach(size => {
                    const sizeOption = document.createElement('div');
                    sizeOption.className = 'size-option';
                    sizeOption.textContent = size.trim();
                    sizeOption.addEventListener('click', () => {
                        document.querySelectorAll('.size-option').forEach(s => s.classList.remove('selected'));
                        sizeOption.classList.add('selected');
                    });
                    modalSizes.appendChild(sizeOption);
                });

                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            next() {
                this.currentIndex = (this.currentIndex + 1) % this.totalItems;
                this.updateCarousel();
                stats.itemsViewed++;
                updateStats();
            }

            prev() {
                this.currentIndex = (this.currentIndex - 1 + this.totalItems) % this.totalItems;
                this.updateCarousel();
                stats.itemsViewed++;
                updateStats();
            }

            goToItem(itemName) {
                const itemIndex = Array.from(this.items).findIndex(item => 
                    item.dataset.name.toLowerCase().includes(itemName.toLowerCase())
                );
                if (itemIndex !== -1) {
                    this.currentIndex = itemIndex;
                    this.updateCarousel();
                }
            }

            updateCarousel() {
                const translateX = -this.currentIndex * 100;
                this.container.style.transform = `translateX(${translateX}%)`;
            }

            getCurrentItem() {
                return this.items[this.currentIndex];
            }
        }

        // Landing Screen Animation
        function showLandingScreen() {
            const landingScreen = document.getElementById('landingScreen');
            const mainApp = document.getElementById('mainApp');
            
            // Show landing screen
            landingScreen.style.display = 'flex';
            mainApp.style.display = 'none';
            
            // After 3 seconds, hide landing and show main app
            setTimeout(() => {
                landingScreen.classList.add('hidden');
                
                setTimeout(() => {
                    landingScreen.style.display = 'none';
                    mainApp.style.display = 'block';
                    mainApp.classList.add('show');
                    
                    // Initialize main app
                    initializeMainApp();
                }, 800);
            }, 3000);
        }

        // Initialize Main App
        function initializeMainApp() {
            // Load user profile
            const userProfile = JSON.parse(localStorage.getItem('userProfile'));
            if (userProfile && userProfile.name) {
                document.getElementById('userName').textContent = userProfile.name;
            }
            
            // Initialize carousels
            window.topCarousel = new Carousel('topsCarousel');
            window.bottomCarousel = new Carousel('bottomsCarousel');
            
            // Add event listeners
            document.getElementById('topPrev').addEventListener('click', () => topCarousel.prev());
            document.getElementById('topNext').addEventListener('click', () => topCarousel.next());
            document.getElementById('bottomPrev').addEventListener('click', () => bottomCarousel.prev());
            document.getElementById('bottomNext').addEventListener('click', () => bottomCarousel.next());
            
            // Initialize stats
            updateStats();
            
            // Show initial AI prompt
            setTimeout(() => {
                showRandomAIPrompt();
            }, 1000);
        }

        // Quiz Functions
        function startQuiz() {
            document.getElementById('quizModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            loadStyleImages();
        }

        function loadStyleImages() {
            const styleGrid = document.getElementById('styleGrid');
            styleGrid.innerHTML = '';
            
            styleImages.forEach((image, index) => {
                const imageDiv = document.createElement('div');
                imageDiv.className = 'style-image';
                imageDiv.style.cssText = `
                    width: 100px;
                    height: 100px;
                    border-radius: 8px;
                    overflow: hidden;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    border: 2px solid transparent;
                `;
                imageDiv.innerHTML = `<img src="${image.url}" alt="${image.style}" style="width: 100%; height: 100%; object-fit: cover;">`;
                imageDiv.onclick = () => selectStyle(image.style, imageDiv);
                styleGrid.appendChild(imageDiv);
            });
        }

        function selectStyle(style, element) {
            if (element.style.borderColor === 'rgb(156, 175, 136)') {
                element.style.borderColor = 'transparent';
                element.style.backgroundColor = 'rgba(255,255,255,0.1)';
                quizData.selectedStyles = quizData.selectedStyles.filter(s => s !== style);
            } else {
                if (quizData.selectedStyles.length < 10) {
                    element.style.borderColor = '#9CAF88';
                    element.style.backgroundColor = 'rgba(156,175,136,0.2)';
                    quizData.selectedStyles.push(style);
                } else {
                    alert('You can select up to 10 styles!');
                    return;
                }
            }
            
            updateQuizNextButton();
        }

        function selectGender(gender) {
            document.querySelectorAll('.gender-btn').forEach(btn => {
                btn.style.backgroundColor = 'rgba(255,255,255,0.1)';
                btn.style.borderColor = '#9CAF88';
            });
            
            event.target.closest('.gender-btn').style.backgroundColor = 'rgba(156,175,136,0.3)';
            event.target.closest('.gender-btn').style.borderColor = '#9CAF88';
            
            quizData.gender = gender;
            document.getElementById('quizNext2').disabled = false;
            document.getElementById('quizNext2').style.background = '#9CAF88';
            document.getElementById('quizNext2').style.cursor = 'pointer';
        }

        function nextQuizStep() {
            if (currentQuizStep === 1) {
                const name = document.getElementById('quizName').value.trim();
                if (!name) {
                    alert('Please enter your name!');
                    return;
                }
                quizData.name = name;
            } else if (currentQuizStep === 3) {
                if (quizData.selectedStyles.length < 5) {
                    alert('Please select at least 5 styles!');
                    return;
                }
            }
            
            // Hide current step
            document.getElementById(`quizStep${currentQuizStep}`).style.display = 'none';
            
            // Show next step
            currentQuizStep++;
            document.getElementById(`quizStep${currentQuizStep}`).style.display = 'block';
            
            if (currentQuizStep === 4) {
                document.getElementById('quizResultName').textContent = quizData.name;
            }
        }

        function completeQuiz() {
            // Save quiz data
            localStorage.setItem('userProfile', JSON.stringify(quizData));
            
            // Update welcome message
            document.getElementById('userName').textContent = quizData.name;
            
            // Close quiz modal
            document.getElementById('quizModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Show success message
            showRandomAIPrompt();
        }

        function updateQuizNextButton() {
            const nextBtn = document.getElementById('quizNext3');
            if (nextBtn) {
                if (quizData.selectedStyles.length >= 5) {
                    nextBtn.disabled = false;
                    nextBtn.style.background = '#9CAF88';
                    nextBtn.style.cursor = 'pointer';
                } else {
                    nextBtn.disabled = true;
                    nextBtn.style.background = '#ccc';
                    nextBtn.style.cursor = 'not-allowed';
                }
            }
        }

        // AI Functions
        function getSmartRecommendation(query) {
            const occasion = query.toLowerCase();
            let topRecommendation = '';
            let bottomRecommendation = '';
            let reason = '';

            if (occasion.includes('office') || occasion.includes('work') || occasion.includes('professional')) {
                const officeTops = ['Professional Button-Up', 'Luxury Silk Blouse', 'Modern Oxford Shirt', 'Elegant Striped Blouse'];
                const officeBottoms = ['Business Chinos', 'Formal Trousers', 'Premium Dress Pants', 'Elegant A-Line Skirt'];
                topRecommendation = officeTops[Math.floor(Math.random() * officeTops.length)];
                bottomRecommendation = officeBottoms[Math.floor(Math.random() * officeBottoms.length)];
                reason = 'Perfect professional look for the office - sophisticated, polished, and business-appropriate!';
            } else if (occasion.includes('party') || occasion.includes('night out') || occasion.includes('celebration')) {
                const partyTops = ['Trendy Party Top', 'Designer Fashion Top', 'Athletic Tank Top'];
                const partyBottoms = ['Fashion Statement Bottoms', 'Trendy Cargo Pants', 'Classic Denim Jeans'];
                topRecommendation = partyTops[Math.floor(Math.random() * partyTops.length)];
                bottomRecommendation = partyBottoms[Math.floor(Math.random() * partyBottoms.length)];
                reason = 'Perfect for a night out - trendy, eye-catching, and party-ready!';
            } else if (occasion.includes('date') || occasion.includes('romantic') || occasion.includes('dinner')) {
                const dateTops = ['Designer Fashion Top', 'Elegant Striped Blouse', 'Luxury Silk Blouse'];
                const dateBottoms = ['Elegant A-Line Skirt', 'Fashion Statement Bottoms', 'Business Chinos'];
                topRecommendation = dateTops[Math.floor(Math.random() * dateTops.length)];
                bottomRecommendation = dateBottoms[Math.floor(Math.random() * dateBottoms.length)];
                reason = 'Perfect for a romantic date - elegant, charming, and sophisticated!';
            } else if (occasion.includes('gym') || occasion.includes('workout') || occasion.includes('athletic')) {
                const gymTops = ['Athletic Tank Top', 'Classic White Tee'];
                const gymBottoms = ['Athletic Shorts', 'Classic Denim Jeans'];
                topRecommendation = gymTops[Math.floor(Math.random() * gymTops.length)];
                bottomRecommendation = gymBottoms[Math.floor(Math.random() * gymBottoms.length)];
                reason = 'Perfect for the gym - comfortable, functional, and performance-ready!';
            } else {
                const allTops = ['Professional Button-Up', 'Elegant Striped Blouse', 'Designer Fashion Top', 'Classic White Tee'];
                const allBottoms = ['Business Chinos', 'Classic Denim Jeans', 'Fashion Statement Bottoms', 'Elegant A-Line Skirt'];
                topRecommendation = allTops[Math.floor(Math.random() * allTops.length)];
                bottomRecommendation = allBottoms[Math.floor(Math.random() * allBottoms.length)];
                reason = 'Great versatile combination that works for many occasions!';
            }

            return { top: topRecommendation, bottom: bottomRecommendation, reason: reason };
        }

        function showRandomAIPrompt() {
            const bubble = document.getElementById('aiSpeechBubble');
            const text = document.getElementById('aiSpeechText');
            
            const randomPrompt = aiPrompts[Math.floor(Math.random() * aiPrompts.length)];
            text.textContent = randomPrompt;
            
            bubble.classList.add('show');
            
            setTimeout(() => {
                bubble.classList.remove('show');
            }, 4000);
        }

        // Update stats
        function updateStats() {
            document.getElementById('combosCreated').textContent = stats.combosCreated;
            document.getElementById('itemsViewed').textContent = stats.itemsViewed;
            document.getElementById('timeSpent').textContent = Math.floor(stats.timeSpent / 60) + 'm';
        }

        // Update buy button
        function updateBuyButton() {
            const topItem = topCarousel.getCurrentItem();
            const bottomItem = bottomCarousel.getCurrentItem();
            const buyButton = document.getElementById('buyButton');
            const totalPrice = document.getElementById('totalPrice');
            
            if (topItem && bottomItem) {
                const topPrice = parseFloat(topItem.dataset.price);
                const bottomPrice = parseFloat(bottomItem.dataset.price);
                const total = topPrice + bottomPrice;
                
                totalPrice.textContent = `Total: $${total.toFixed(2)}`;
                totalPrice.style.display = 'block';
                buyButton.disabled = false;
            } else {
                totalPrice.style.display = 'none';
                buyButton.disabled = true;
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Start with landing screen
            showLandingScreen();
            
            // Quiz button
            document.getElementById('startQuizBtn').addEventListener('click', startQuiz);
            
            // Mood board button
            document.getElementById('viewMoodBoardBtn').addEventListener('click', () => {
                window.location.href = 'moodboard.html';
            });
            
            // AI Search
            document.getElementById('aiSearchBtn').addEventListener('click', async () => {
                const query = document.getElementById('aiSearchInput').value.trim();
                if (!query) return;

                const btn = document.getElementById('aiSearchBtn');
                btn.disabled = true;
                btn.innerHTML = '<span></span><span>Analyzing...</span>';

                const recommendation = getSmartRecommendation(query);
                
                if (recommendation) {
                    document.getElementById('aiRecommendationText').textContent = 
                        `For ${query}, I recommend: ${recommendation.top} + ${recommendation.bottom}. ${recommendation.reason}`;
                    document.getElementById('aiRecommendation').classList.add('show');

                    setTimeout(() => {
                        topCarousel.goToItem(recommendation.top);
                        bottomCarousel.goToItem(recommendation.bottom);
                        showRandomAIPrompt();
                    }, 1000);
                }

                btn.disabled = false;
                btn.innerHTML = '<span></span><span>Get AI Recommendation</span>';
            });
            
            // Close AI recommendation
            document.getElementById('closeAiRecommendation').addEventListener('click', () => {
                document.getElementById('aiRecommendation').classList.remove('show');
            });
            
            // Close speech bubble
            document.getElementById('closeSpeechBubble').addEventListener('click', () => {
                document.getElementById('aiSpeechBubble').classList.remove('show');
            });
            
            // Modal functionality
            const modalOverlay = document.getElementById('modalOverlay');
            const closeModal = document.getElementById('closeModal');

            closeModal.addEventListener('click', () => {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    modalOverlay.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Modal action buttons
            document.getElementById('addToCart').addEventListener('click', () => {
                alert('Added to cart!');
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            document.getElementById('buyNow').addEventListener('click', () => {
                alert('Proceeding to checkout!');
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // Quick actions
            document.getElementById('randomCombo').addEventListener('click', () => {
                const randomTop = Math.floor(Math.random() * topCarousel.totalItems);
                const randomBottom = Math.floor(Math.random() * bottomCarousel.totalItems);
                topCarousel.currentIndex = randomTop;
                bottomCarousel.currentIndex = randomBottom;
                topCarousel.updateCarousel();
                bottomCarousel.updateCarousel();
                showRandomAIPrompt();
            });

            document.getElementById('saveCombo').addEventListener('click', () => {
                const topItem = topCarousel.getCurrentItem();
                const bottomItem = bottomCarousel.getCurrentItem();
                
                if (topItem && bottomItem) {
                    const combo = {
                        topName: topItem.dataset.name,
                        topImage: topItem.querySelector('img').src,
                        bottomName: bottomItem.dataset.name,
                        bottomImage: bottomItem.querySelector('img').src,
                        totalPrice: (parseFloat(topItem.dataset.price) + parseFloat(bottomItem.dataset.price)).toFixed(2),
                        description: `Perfect combination of ${topItem.dataset.name} and ${bottomItem.dataset.name}`,
                        timestamp: new Date().toISOString(),
                        occasion: topItem.dataset.occasion + ',' + bottomItem.dataset.occasion
                    };
                    
                    const savedCombos = JSON.parse(localStorage.getItem('savedCombos')) || [];
                    const exists = savedCombos.some(existingCombo => 
                        existingCombo.topName === combo.topName && existingCombo.bottomName === combo.bottomName
                    );
                    
                    if (exists) {
                        alert('This combo is already saved!');
                        return;
                    }
                    
                    savedCombos.push(combo);
                    localStorage.setItem('savedCombos', JSON.stringify(savedCombos));
                    
                    showRandomAIPrompt();
                    alert(`Combo saved! You now have ${savedCombos.length} saved combinations.`);
                } else {
                    alert('Please select both a top and bottom!');
                }
            });

            document.getElementById('shareCombo').addEventListener('click', () => {
                const topItem = topCarousel.getCurrentItem();
                const bottomItem = bottomCarousel.getCurrentItem();
                
                if (topItem && bottomItem) {
                    const text = `Check out this ATYR combo: ${topItem.dataset.name} + ${bottomItem.dataset.name} for $${(parseFloat(topItem.dataset.price) + parseFloat(bottomItem.dataset.price)).toFixed(2)}`;
                    navigator.clipboard.writeText(text).then(() => {
                        alert('Combo copied to clipboard!');
                    });
                }
            });
            
            // Buy button
            document.getElementById('buyButton').addEventListener('click', () => {
                const topItem = topCarousel.getCurrentItem();
                const bottomItem = bottomCarousel.getCurrentItem();
                
                if (topItem && bottomItem) {
                    stats.combosCreated++;
                    updateStats();
                    alert('Opening ATYR buy links!');
                }
            });
            
            // Enter key support
            document.getElementById('aiSearchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    document.getElementById('aiSearchBtn').click();
                }
            });
            
            // Track time spent
            setInterval(() => {
                stats.timeSpent++;
                updateStats();
            }, 1000);
            
            // Update buy button
            setInterval(updateBuyButton, 100);
        });
    </script>
</body>
</html>
